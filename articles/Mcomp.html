<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Mcomp">
<title>Introduction to the Mcomp package • Mcomp</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Fira_Sans-0.4.9/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Introduction to the Mcomp package">
<meta property="og:description" content="Mcomp">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hack-font@3/build/web/hack-subset.css">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-primary" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">Mcomp</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.9</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../articles/Mcomp.html">Introduction</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/Comparisons.html">Forecast comparisons</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Change Log</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/robjhyndman/Mcomp">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Introduction to the Mcomp package</h1>
                        <h4 data-toc-skip class="author">Rob J
Hyndman</h4>
            
            <h4 data-toc-skip class="date">2024-07-01</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/robjhyndman/Mcomp/blob/HEAD/vignettes/Mcomp.Rmd" class="external-link"><code>vignettes/Mcomp.Rmd</code></a></small>
      <div class="d-none name"><code>Mcomp.Rmd</code></div>
    </div>

    
    
<p>The R package <em>Mcomp</em> contains the 1001 time series from the
M-competition (Makridakis et al. 1982), the 3003 time series from the
IJF-M3 competition (Makridakis and Hibon, 2000), and the forecasts
contributed to the IJF-M3 competition. See also the <a href="https://github.com/robjhyndman/tscompdata" class="external-link">tscompdata package</a>
for data from other forecasting competitions.</p>
<div class="section level2">
<h2 id="m1-competition">M1 competition<a class="anchor" aria-label="anchor" href="#m1-competition"></a>
</h2>
<p>The M1 forecasting competition was organized by Spyros Makridakis and
Michèle Hibon, involving 1001 series. In this competition, anyone could
submit forecasts, making this the first true forecasting competition as
far as I am aware. They also used multiple forecast measures to
determine the most accurate method.</p>
<p>The 1001 time series were taken from demography, industry and
economics, and ranged in length between 9 and 132 observations. All the
data were either non-seasonal (e.g., annual), quarterly or monthly.
Curiously, all the data were positive, which made it possibly to compute
mean absolute percentage errors, but was not really reflective of the
population of real data.</p>
<p>The M1 competition data are stored as <code>M1</code>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://pkg.robjhyndman.com/Mcomp/">Mcomp</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: forecast</span></span>
<span><span class="co">#&gt; Registered S3 method overwritten by 'quantmod':</span></span>
<span><span class="co">#&gt;   method            from</span></span>
<span><span class="co">#&gt;   as.zoo.data.frame zoo</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">M1</span></span>
<span><span class="co">#&gt; M-Competition data: 1001 time series </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;            Type of data</span></span>
<span><span class="co">#&gt; Period      DEMOGR INDUST MACRO1 MACRO2 MICRO1 MICRO2 MICRO3 Total</span></span>
<span><span class="co">#&gt;   MONTHLY       75    183     64     92     10     89    104   617</span></span>
<span><span class="co">#&gt;   QUARTERLY     39     18     45     59      5     21     16   203</span></span>
<span><span class="co">#&gt;   YEARLY        30     35     30     29     16     29     12   181</span></span>
<span><span class="co">#&gt;   Total        144    236    139    180     31    139    132  1001</span></span></code></pre></div>
<p>Functions are provided to plot and manage the date. The
<code><a href="../reference/plot.Mdata.html">plot.Mdata()</a></code> and <code><a href="../reference/plot.Mdata.html">autoplot.Mdata()</a></code> functions
plot a time series, showing both the training and test sections of the
series.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">M1</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<p><img src="Mcomp_files/figure-html/M1plot-1.png" width="480" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/autoplot.html" class="external-link">autoplot</a></span><span class="op">(</span><span class="va">M1</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<p><img src="Mcomp_files/figure-html/M1plot-2.png" width="480" style="display: block; margin: auto;"></p>
<p><code><a href="../reference/subset.Mcomp.html">subset.Mcomp()</a></code> returns a subset of the time series data;
subsets can be for specific periods, or specific types of data or
both.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">M1</span>, <span class="st">"monthly"</span><span class="op">)</span></span>
<span><span class="co">#&gt; M-Competition data: 617 MONTHLY time series</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;          Type of data</span></span>
<span><span class="co">#&gt; Period    DEMOGR INDUST MACRO1 MACRO2 MICRO1 MICRO2 MICRO3</span></span>
<span><span class="co">#&gt;   MONTHLY     75    183     64     92     10     89    104</span></span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">M1</span>, <span class="st">"macro1"</span><span class="op">)</span></span>
<span><span class="co">#&gt; M-Competition data: 139 MACRO1 time series</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;            Type of data</span></span>
<span><span class="co">#&gt; Period      MACRO1</span></span>
<span><span class="co">#&gt;   MONTHLY       64</span></span>
<span><span class="co">#&gt;   QUARTERLY     45</span></span>
<span><span class="co">#&gt;   YEARLY        30</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">M1</span>, <span class="st">"macro1"</span>, <span class="st">"monthly"</span><span class="op">)</span></span>
<span><span class="co">#&gt;          Type of data</span></span>
<span><span class="co">#&gt; Period    MACRO1</span></span>
<span><span class="co">#&gt;   MONTHLY     64</span></span></code></pre></div>
<p>The 111 series used in the extended comparisons in the 1982
M-competition can also be selected.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">M1</span>, <span class="fl">111</span><span class="op">)</span></span>
<span><span class="co">#&gt; M-Competition data: 111 time series </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;            Type of data</span></span>
<span><span class="co">#&gt; Period      DEMOGR INDUST MACRO1 MACRO2 MICRO1 MICRO2 MICRO3 Total</span></span>
<span><span class="co">#&gt;   MONTHLY        8     21      8      9      1     10     11    68</span></span>
<span><span class="co">#&gt;   QUARTERLY      5      2      5      6      0      3      2    23</span></span>
<span><span class="co">#&gt;   YEARLY         3      4      4      3      2      3      1    20</span></span>
<span><span class="co">#&gt;   Total         16     27     17     18      3     16     14   111</span></span></code></pre></div>
<p><code>M1</code> is of class <code>Mcomp</code> which is a list, where
each element is also a list containing information about one time
series. For example, the first element contains the following
information.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">M1</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt; List of 9</span></span>
<span><span class="co">#&gt;  $ st         : chr "Y1"</span></span>
<span><span class="co">#&gt;  $ n          : num 22</span></span>
<span><span class="co">#&gt;  $ h          : num 6</span></span>
<span><span class="co">#&gt;  $ period     : chr "YEARLY"</span></span>
<span><span class="co">#&gt;  $ type       : chr "MICRO1"</span></span>
<span><span class="co">#&gt;  $ description: chr "FRANCE LA REGIE RENAULT A25 ANS(CHAMBRE DE COMMERCE FRANCAIS) TURNOVER-RENAULT"</span></span>
<span><span class="co">#&gt;  $ x          : Time-Series [1:22] from 1972 to 1993: 3600 7700 12300 30500 47390 ...</span></span>
<span><span class="co">#&gt;  $ xx         : Time-Series [1:6] from 1994 to 1999: 588568 646758 849998 1106740 1184550 ...</span></span>
<span><span class="co">#&gt;  $ sn         : chr "YAF2"</span></span>
<span><span class="co">#&gt;  - attr(*, "class")= chr "Mdata"</span></span></code></pre></div>
<p>The various items are as follows:</p>
<ul>
<li>
<code>st</code>: the series number and period. For example
<code>Y1</code> denotes the first yearly series, <code>Q20</code>
denotes the 20th quarterly series, and so on;</li>
<li>
<code>n</code>: the number of observations in the training part of
the time series;</li>
<li>
<code>h</code>: the number of required forecasts (equivalently the
number of observations in the test part of the time series);</li>
<li>
<code>period</code>: interval of the time series. Possible values
are <code>YEARLY</code>, <code>QUARTERLY</code>, <code>MONTHLY</code>
&amp; <code>OTHER</code>.</li>
<li>
<code>type</code>: the type of series. Possible values are
<code>DEMOGR</code>, <code>INDUST</code>, <code>MACRO1</code>,
<code>MACRO2</code>, <code>MICRO1</code>, <code>MICRO2</code> &amp;
<code>MICRO3</code>.</li>
<li>
<code>description</code>: a short description of the time
series;</li>
<li>
<code>x</code>: the training part of the time series of length
<code>n</code>;</li>
<li>
<code>xx</code>: the test part of the time series of length
<code>h</code>.</li>
<li>
<code>sn</code>: name of the series;</li>
</ul>
</div>
<div class="section level2">
<h2 id="m3-competition">M3 competition<a class="anchor" aria-label="anchor" href="#m3-competition"></a>
</h2>
<p>In 1998, Makridakis &amp; Hibon ran their M3 competition. Entrants
had to forecast 3003 time series and the results were compared to a test
set that was withheld from participants. The time series were all taken
from business, demography, finance and economics, and ranging in length
between 14 and 126 observations. Again, the data were all either
non-seasonal (e.g., annual), quarterly or monthly, and all were
positive.</p>
<p>The time series from the M3 forecasting competition and the forecasts
from all the original participating methods are stored in
<code>M3</code> and <code>M3Forecast</code> respectively.
<code><a href="../reference/plot.Mdata.html">plot.Mdata()</a></code>, <code><a href="../reference/plot.Mdata.html">autoplot.Mdata()</a></code> and
<code><a href="../reference/subset.Mcomp.html">subset.Mcomp()</a></code> work on <code>M3</code> as well. The
structure of <code>M3</code> is the same as for <code>M1</code>.</p>
<p><code>M3Forecast</code> is a list of <code>data.frames</code>. Each
list element is the result of one forecasting method. The
<code>data.frame</code> then has the following structure. Each row is
the forecast of one series; rows are named accordingly. Each column
corresponds to a forecast horizon. There are 18 columns, as the maximum
number of forecasts for any series is 18. If fewer forecasts than 18
exist, the row is padded with <code>NA</code> values.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">M3</span></span>
<span><span class="co">#&gt; M-Competition data: 3003 time series </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;            Type of data</span></span>
<span><span class="co">#&gt; Period      DEMOGRAPHIC FINANCE INDUSTRY MACRO MICRO OTHER Total</span></span>
<span><span class="co">#&gt;   MONTHLY           111     145      334   312   474    52  1428</span></span>
<span><span class="co">#&gt;   OTHER               0      29        0     0     4   141   174</span></span>
<span><span class="co">#&gt;   QUARTERLY          57      76       83   336   204     0   756</span></span>
<span><span class="co">#&gt;   YEARLY            245      58      102    83   146    11   645</span></span>
<span><span class="co">#&gt;   Total             413     308      519   731   828   204  3003</span></span></code></pre></div>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/autoplot.html" class="external-link">autoplot</a></span><span class="op">(</span><span class="va">M3</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<p><img src="Mcomp_files/figure-html/M3-1.png" width="480" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">M3</span>, <span class="st">"macro"</span><span class="op">)</span></span>
<span><span class="co">#&gt; M-Competition data: 731 MACRO time series</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;            Type of data</span></span>
<span><span class="co">#&gt; Period      MACRO</span></span>
<span><span class="co">#&gt;   MONTHLY     312</span></span>
<span><span class="co">#&gt;   QUARTERLY   336</span></span>
<span><span class="co">#&gt;   YEARLY       83</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="sources">Sources<a class="anchor" aria-label="anchor" href="#sources"></a>
</h2>
<p><a href="https://doi.org/10.1002/for.3980010202" class="external-link">Makridakis, S., A.
Andersen, R. Carbone, R. Fildes, M. Hibon, R. Lewandowski, J. Newton, E.
Parzen, and R. Winkler (1982) The accuracy of extrapolation (time
series) methods: results of a forecasting competition. <em>Journal of
Forecasting</em>, <strong>1</strong>, 111–153.</a></p>
<p><a href="https://doi.org/10.1016/S0169-2070(00)00057-1" class="external-link">Makridakis
and Hibon (2000) The M3-competition: results, conclusions and
implications. <em>International Journal of Forecasting</em>,
<strong>16</strong>, 451-476.</a></p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="http://robjhyndman.com" class="external-link">Rob Hyndman</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
